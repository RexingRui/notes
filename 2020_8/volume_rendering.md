## 阅读摘录

- 定义

volume rendering describes a wide range of techniques for generating images from three-dimensional scalar data

- 体绘制的应用领域

  - 体绘制计算可以用于地质勘探、气象分析、分子模型构造等科学领域
  - 计算机断层扫描（ CT ）已经广泛应用于疾病的诊断

- 体绘制与光照模型

  透明光照模型侧重于光照效果展现，并偏向艺术化；而体绘制技术侧重展现物质内部细节，要求真实

- 体数据

  - Voxel 体素，是组成体数据的最小单元，一个体素表示体数据中三维空间某部分的值。体素相当于二维空间中像素的概念
  - Volume texture 三维数据存放在 XY 像素平面所得到的纹理，称之为 volume texture, .raw文件存放的三维体数据

- volume ray casting

  - 光线投射算法原理 从图像的每一个像素，沿固定方向（通常是视线方向）发射一条光线，光线穿越整个图像序列，并在这个过程中，对图像序列进行采样获取颜色信息，同时依据光线吸收模型将颜色值进行累加，直至光线穿越整个图像序列，最后得到的颜色值就是渲染图像的颜色。
  - 吸收模型 在某一密度条件下，光线穿越体时，每个体素对光线的吸收发射分布情况，分为吸收模型，发射模型，吸收发射模型， 散射模型等
  - 光线如何穿越体纹理， 需要一个三维的空间模型（如立方体）和纹理坐标进行对应， 然后由视点向模型上的点引射线，该射线穿越模型空间等价于射线穿越了体纹理。

### Volume Renderering Process

- 构建一个[-1, 1]^2的二维矩形，光线从原点出发，穿过该矩形。
- 投射到一个[0, 1]^3的AABB，通过与AABB求交，计算出光线进入Box的时间和离开Box的时间。
- 根据时间，秋Box的交点，设定采样频率，遍历采样次数，通过线性插值求出每次采样的位置
- 由采样点，从三维纹理中取出体数据值，再有传输函数求得该处的颜色和透明度
- 通过alpha混合算法， Ci = Ci-1  + （1- a）* C， 求出光线在屏幕上的颜色和透明度值

### Ray casting的物理模型
- 沿着一条光路，其上的物体都会散发光能和吸收光能。
- 到达目标（相机）的能量为该光路上所有物体所产生能量的总和
- 对于单个物体，emission I, absorption e, energy = I * e

### 截止计算

- 包围盒求交， 如何找到能够刚好包围物体的包围盒
- 通过与表面求交计算出光线长度，将由光栅化渲染物体的被面（前面剔除）和前面的坐标相减得到。$$
